---
import MainLayout from "../../layout/MainLayout.astro";
import Header from "../../layout/Header.astro";
import Footer from "../../layout/Footer.astro";
import ScrollToTop from "../../components/ScrollToTop.astro";
import GoBackArrow from "../../components/GoBackArrow.astro";


import ArtistInfo from "../../components/ArtistInfo.astro";

const url = "https://xnuptxxrxfdladlzrict.supabase.co/rest/v1/Kunstnere";
const options = {
        headers: {
            apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhudXB0eHhyeGZkbGFkbHpyaWN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjg2MzQ1NjAsImV4cCI6MjA0NDIxMDU2MH0.RGy9b8YR0QZ5kbRBGPOLnBDCk0uhTzlYqKZgTkuw6HQ",
        },
    }

const artists = await fetch(url, options).then(res=>res.json());
console.log(artists);
---

<MainLayout>
    <Header/>
    <GoBackArrow/>


    <ul>
        {
            artists.map((artist) => (
                <ArtistInfo artist={artist}/>
            ))
        }
    </ul>


    <ScrollToTop />
    <Footer/>
</MainLayout>
