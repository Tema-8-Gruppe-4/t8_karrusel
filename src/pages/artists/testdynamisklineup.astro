---
//Lineup/Listview Katinka Dynamisk Program (index). Får ikke til at virke, derfor lægger jeg kode ind her til hvis vi får tid til at lege videre med det
import MainLayout from "../../layout/MainLayout.astro";
import Header from "../../layout/Header.astro";
import Search from "../../components/Search.astro";
import Button from "../../components/Button.astro";
import ProgramSection from "../../components/ProgramSection.astro";
import StaticProgram from "../../components/StaticProgram.astro";
import Footer from "../../layout/Footer.astro";
import ScrollToTop from "../../components/ScrollToTop.astro";
import GoBackArrow from "../../components/GoBackArrow.astro";
import ArtistInfo from "../../components/ArtistInfo.astro";

const url = "https://xnuptxxrxfdladlzrict.supabase.co/rest/v1/Kunstnere";
const options = {
        headers: {
            apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhudXB0eHhyeGZkbGFkbHpyaWN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjg2MzQ1NjAsImV4cCI6MjA0NDIxMDU2MH0.RGy9b8YR0QZ5kbRBGPOLnBDCk0uhTzlYqKZgTkuw6HQ",
        },
    }

const artists = await fetch(url, options).then(res=>res.json());
console.log(artists);

// const {location} = Astro.props;
const thursdayKunstnere = artists.filter((a) => a.date === "Thursday");
const fridayKunstnere = artists.filter((a) => a.date === "Friday");
const saturdayKunstnere = artists.filter((a) => a.date === "Saturday");
//const manegen = artists.filter((a) => a.location === "Manegen");
---

<MainLayout>
    <Header/>
    <h1>LINEUP 2025</h1>
    <GoBackArrow/>
    <Search/>
    <a class= "button" href="#artist_list"><Button buttontext="Check out this year’s artists"/></a>
     <h1>PROGRAM</h1>
     <nav>
       <a href="#thursday">- THURSDAY</a>
       <a href="#friday">- FRIDAY</a>
       <a href="#saturday">- SATURDAY</a>
     </nav>
     <h3 id="thursday">- THURSDAY</h3>
     <StaticProgram/>
   <!-- <ProgramSection/> -->
   {thursdayKunstnere.map((artist) => <li>{artist.name}<br>{artist.time}</li>)}
   <h3 id="friday">- FRIDAY</h3>
   <!-- <ProgramSection/> -->
   {fridayKunstnere.map((artist) => <li>{artist.name}<br>{artist.time}</li>)}
   <h3 id="saturday">- SATURDAY</h3>
   <!-- <ProgramSection/> -->
   {saturdayKunstnere.map((artist) => <li>{artist.name}<br>{artist.time}</li>)}
   <h1>THIS YEAR'S ARTISTS</h1>
    <ul>
        {
            artists.map((artist) => (
                <ArtistInfo artist={artist}/>
            ))
        }
    </ul>

    <ScrollToTop />
    <Footer/>
</MainLayout>

<style>
/**FONTS */
@font-face {
  font-family: "jhc_audemarsmedium";
  src: url("/public/fonts/audemars/jhcaudemars-medium-webfont.woff2") format("woff2"),
    url("/public/fonts/audemars/jhcaudemars-medium-webfont.woff") format("woff");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "bacilus_grotesqueregular";
  src: url("/public/fonts/bacilus/bacilusgrotesque-regular-webfont.woff2")
      format("woff2"),
    url("/public/fonts/bacilus/bacilusgrotesque-regular-webfont.woff") format("woff");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
    h1 {
    margin: 5rem;
    }
    a {
    margin-left: 1rem;
    }
    .button {
        text-decoration: none;
    }
    h3 {
    margin-top: 3rem;
    margin-left: 2rem;
    
    }
    nav {
        display: flex;
        margin-left: 1.5rem;
    }
    ul {
        margin-bottom: 7rem;
    }
    @media (max-width: 800px){
        h1 {
            text-align: center;
    }
} 
</style>